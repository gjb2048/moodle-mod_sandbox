{"version":3,"sources":["../src/modal.js"],"names":["show_modal","strings","ModalFactory","create","type","types","SAVE_CANCEL","title","body","then","modal","trigger","document","getElementById","output","root","getRoot","addEventListener","confirm","Log","info","on","ModalEvents","save","innerHTML","show"],"mappings":"gMACA,OACA,OACA,O,mDAIO,GAAMA,CAAAA,CAAU,CAAG,SAACC,CAAD,CAAa,CAEnCC,UAAaC,MAAb,CAAoB,CAChBC,IAAI,CAAEF,UAAaG,KAAb,CAAmBC,WADT,CAGhBC,KAAK,CAAEN,CAAO,CAAC,CAAD,CAHE,CAKhBO,IAAI,CAAE,MAAQP,CAAO,CAAC,CAAD,CAAf,CAAqB,MALX,CAApB,EAQCQ,IARD,CAQM,SAASC,CAAT,CAAgB,IAEZC,CAAAA,CAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAFE,CAIZC,CAAM,CAAGF,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,CAJG,CAKZE,CAAI,CAAGL,CAAK,CAACM,OAAN,EALK,CAOlBL,CAAO,CAACM,gBAAR,CAAyB,OAAzB,CAAkCC,CAAlC,EAGA,QAASA,CAAAA,CAAT,EAAmB,CAEfC,UAAIC,IAAJ,CAAS,gBAAT,EAEAL,CAAI,CAACM,EAAL,CAAQC,UAAYC,IAApB,CAA0B,UAAW,CACjCT,CAAM,CAACU,SAAP,CAAmB,EACtB,CAFD,EAGAd,CAAK,CAACe,IAAN,EACH,CACJ,CA3BD,CA4BH,CA9BM,C","sourcesContent":["// See: https://docs.moodle.org/dev/Useful_core_Javascript_modules.\r\nimport ModalFactory from 'core/modal_factory';\r\nimport ModalEvents from 'core/modal_events';\r\nimport Log from 'core/log';\r\n\r\n// The function called from the Mustache template.\r\n// Strings information on https://docs.moodle.org/dev/Useful_core_Javascript_modules#Language_strings_.28core.2Fstr.29\r\nexport const show_modal = (strings) => {\r\n    // Set up a SAVE_CANCEL modal.\r\n    ModalFactory.create({\r\n        type: ModalFactory.types.SAVE_CANCEL,\r\n        //title: 'Clear content',\r\n        title: strings[0],\r\n        //body: '<p>Do you really want to clear the content?</p>'\r\n        body: '<p>' + strings[1] + '</p>'\r\n    })\r\n    // Set up the actions.\r\n    .then(function(modal) {\r\n        // The trigger button for showing the modal.\r\n        const trigger = document.getElementById('mdlbtn');\r\n        // Display element - some sample content.\r\n        const output = document.getElementById('mod_sandbox_render');\r\n        const root = modal.getRoot();\r\n        // Add the event trigger (avoiding .onclick).\r\n        trigger.addEventListener('click', confirm);\r\n\r\n        // When button clicked.\r\n        function confirm() {\r\n            // Convenient to use the log for debugging.\r\n            Log.info('Button clicked');\r\n            // If save is selected then go ahead and delete the content.\r\n            root.on(ModalEvents.save, function() {\r\n                output.innerHTML = '';\r\n            });\r\n            modal.show();\r\n        }\r\n    });\r\n};\r\n"],"file":"modal.min.js"}