{"version":3,"file":"modal.min.js","sources":["../src/modal.js"],"sourcesContent":["// See: https://docs.moodle.org/dev/Useful_core_Javascript_modules.\r\nimport ModalFactory from 'core/modal_factory';\r\nimport ModalEvents from 'core/modal_events';\r\nimport Log from 'core/log';\r\n\r\n// The function called from the Mustache template.\r\n// Strings information on https://docs.moodle.org/dev/Useful_core_Javascript_modules#Language_strings_.28core.2Fstr.29\r\nexport const show_modal = (strings) => {\r\n    // Set up a SAVE_CANCEL modal.\r\n    ModalFactory.create({\r\n        type: ModalFactory.types.SAVE_CANCEL,\r\n        title: strings[0],\r\n        body: '<p>' + strings[1] + '</p>'\r\n    })\r\n    // Set up the actions.\r\n    .then(function(modal) {\r\n        // The trigger button for showing the modal.\r\n        const trigger = document.getElementById('mdlbtn');\r\n        // Display element - some sample content.\r\n        const output = document.getElementById('mod_sandbox_render');\r\n        const root = modal.getRoot();\r\n        // Add the event trigger (avoiding .onclick).\r\n        trigger.addEventListener('click', confirm);\r\n\r\n        /**\r\n         * When button clicked.\r\n         */\r\n        function confirm() {\r\n            // Convenient to use the log for debugging.\r\n            Log.info('Button clicked');\r\n            // If save is selected then go ahead and delete the content.\r\n            root.on(ModalEvents.save, function() {\r\n                output.innerHTML = '';\r\n            });\r\n            modal.show();\r\n        }\r\n    });\r\n};\r\n"],"names":["strings","create","type","ModalFactory","types","SAVE_CANCEL","title","body","then","modal","trigger","document","getElementById","output","root","getRoot","addEventListener","info","on","ModalEvents","save","innerHTML","show"],"mappings":"sdAO2BA,iCAEVC,OAAO,CAChBC,KAAMC,uBAAaC,MAAMC,YACzBC,MAAON,QAAQ,GACfO,KAAM,MAAQP,QAAQ,GAAK,SAG9BQ,MAAK,SAASC,aAELC,QAAUC,SAASC,eAAe,UAElCC,OAASF,SAASC,eAAe,sBACjCE,KAAOL,MAAMM,UAEnBL,QAAQM,iBAAiB,iCAOjBC,KAAK,kBAETH,KAAKI,GAAGC,sBAAYC,MAAM,WACtBP,OAAOQ,UAAY,MAEvBZ,MAAMa"}